<app-nav-bar></app-nav-bar>
<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h2 class="text-center">Panel de Control de Roles de Usuario</h2> 
                </div>
                <br>
                <div id="dataTables-example_filter" class="text-center">
                        <label >Búsqueda por rol: </label>
                        <select #searchInput class="form-control-sm" (change)="searchByRole($event.target.value)">
                            <option  ></option>
                            <option  *ngFor="let role of roles">{{role}}</option>
                        </select>
                </div>
                <div class="panel-body">
                    <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example">
                        <thead>
                            <tr>
                                <th>Usuario</th>
                                <th>Nombre</th>
                                <th>Apellidos</th>
                                <th>Fecha de Registro</th>
                                <th>Fecha de Nacimiento</th>
                                <th>Rol</th>
                                <th class="text-center">Añadir Permiso de Trabajo</th>
                                <th class="text-center">Eliminar</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of items ; let i = index">
                                <td >{{ item.email }}</td>
                                <td >{{ item.firstName}}</td>
                                <td >{{ item.lastName}}</td>
                                <td >{{item.createdDate | date: 'dd-MM-yyyy'}}</td>
                                <td >{{item.birthday | date: 'dd-MM-yyyy'}}</td>
                                <td >{{ item.userRoleId}}</td>
                                <td class="text-center" *ngIf="item.userRoleId != 'WorkerTeam'"><button type="button" class="btn btn-info btn-circle"  disabled><i class="fa fa-plus"></i></button></td>
                                <td class="text-center" *ngIf="item.userRoleId == 'WorkerTeam'"><button type="button" class="btn btn-info btn-circle" (click)= "updateUser(i)"><i class="fa fa-plus"></i></button></td>
                                <td class="text-center" *ngIf="item.userRoleId != 'WorkerTeam'"><button type="button" class="btn btn-danger btn-circle"  disabled><i class="fa fa-times"></i></button></td>
                                <td class="text-center" *ngIf="item.userRoleId == 'WorkerTeam'"><button type="button" class="btn btn-danger btn-circle" (click)= "deleteUser(i)"><i class="fa fa-times"></i></button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>               
</div>